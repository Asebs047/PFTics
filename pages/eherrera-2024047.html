<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Documentaci√≥n Completa de Java Servlets</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />

  <!-- Fuente Lexend -->
  <link href="https://fonts.googleapis.com/css2?family=Lexend&display=swap" rel="stylesheet" />

  <!-- CSS externo -->
  <link href="2024047.css" rel="stylesheet" />
</head>
<body>

  <div class="sidebar" role="navigation" aria-label="√çndice de contenido" tabindex="0">
    <h4>üìö Contenido</h4>
    <a href="#introduccion">Introducci√≥n</a>
    <a href="#que-es-servlet">¬øQu√© es un Servlet?</a>
    <a href="#ciclo-vida">Ciclo de Vida del Servlet</a>
    <a href="#manejo-peticiones">Manejo de Peticiones HTTP</a>
    <a href="#sesiones">Sesiones y Cookies</a>
    <a href="#filtros">Filtros</a>
    <a href="#configuracion">Configuraci√≥n (Anotaciones y web.xml)</a>
    <a href="#integracion-jsp">Integraci√≥n con JSP</a>
    <a href="#maven">Uso con Maven</a>
    <a href="#despliegue">Despliegue</a>
    <a href="#ejemplo-completo">Ejemplo Completo</a>
    <a href="#conclusiones">Conclusiones</a>
  </div>

  <div class="content" role="main" tabindex="-1">

    <button id="btn-regresar" class="btn btn-outline-secondary mb-4" onclick="history.back()" aria-label="Regresar a la p√°gina anterior">
      ‚Üê Regresar
    </button>

    <h1 id="introduccion" tabindex="-1">Servlets Java: Documentaci√≥n Completa y Detallada</h1>

    <section id="que-es-servlet">
      <h2>¬øQu√© es un Servlet?</h2>
      <p>
        Los <strong>Servlets</strong> son componentes Java que se ejecutan en un servidor web para procesar solicitudes y generar respuestas. 
        Se utilizan para construir aplicaciones web din√°micas, donde el contenido de las p√°ginas web se genera de forma autom√°tica bas√°ndose en la l√≥gica de negocio.
      </p>
      <p>
        A diferencia de las p√°ginas HTML est√°ticas, los Servlets permiten crear contenido personalizado para cada usuario, manejar formularios, sesiones, conexiones a bases de datos, y mucho m√°s.
      </p>
      <p>
        Funcionan dentro de un <em>contenedor web</em> (como Apache Tomcat, GlassFish o Jetty) que gestiona la vida del Servlet y su interacci√≥n con las solicitudes HTTP.
      </p>
    </section>

    <section id="ciclo-vida">
      <h2>Ciclo de Vida del Servlet</h2>
      <p>
        El ciclo de vida de un Servlet es controlado por el contenedor web y consta de tres fases principales:
      </p>
      <ol>
        <li><strong>Inicializaci√≥n (<code>init()</code>):</strong> El servlet se carga en memoria y se prepara para recibir peticiones. Solo se ejecuta una vez.</li>
        <li><strong>Procesamiento (<code>service()</code>):</strong> Por cada petici√≥n, el contenedor invoca el m√©todo <code>service()</code>, que determina qu√© m√©todo HTTP se us√≥ (GET, POST, etc.) y llama al m√©todo adecuado como <code>doGet()</code> o <code>doPost()</code>.</li>
        <li><strong>Destrucci√≥n (<code>destroy()</code>):</strong> Cuando el contenedor decide retirar el servlet (por reinicio o cierre), llama a este m√©todo para liberar recursos.</li>
      </ol>
      <p>Ejemplo simple con estos m√©todos:</p>
      <pre><button class="copy-btn" onclick="copyCode(this)" aria-label="Copiar c√≥digo"><svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg> Copiar</button><code>
@Override
public void init() throws ServletException {
    // C√≥digo para inicializar recursos
}

@Override
protected void doGet(HttpServletRequest req, HttpServletResponse resp)
        throws ServletException, IOException {
    resp.getWriter().println("&lt;h1&gt;Hola, servlet iniciado&lt;/h1&gt;");
}

@Override
public void destroy() {
    // C√≥digo para liberar recursos
}
      </code></pre>
    </section>

    <section id="manejo-peticiones">
      <h2>Manejo de Peticiones HTTP</h2>
      <p>
        Los Servlets manejan las peticiones HTTP sobrescribiendo m√©todos como <code>doGet()</code>, <code>doPost()</code>, <code>doPut()</code>, <code>doDelete()</code>, etc., dependiendo del tipo de solicitud enviada por el cliente.
      </p>
      <p>
        Por ejemplo, para manejar una petici√≥n <strong>GET</strong>, se debe implementar el m√©todo <code>doGet()</code>:
      </p>
      <pre><button class="copy-btn" onclick="copyCode(this)" aria-label="Copiar c√≥digo"><svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg> Copiar</button><code>
@Override
protected void doGet(HttpServletRequest request, HttpServletResponse response)
        throws ServletException, IOException {
    response.setContentType("text/html;charset=UTF-8");
    PrintWriter out = response.getWriter();
    out.println("&lt;h1&gt;Respuesta a una petici√≥n GET&lt;/h1&gt;");
}
      </code></pre>
      <p>
        Para manejar una petici√≥n <strong>POST</strong>, se utiliza <code>doPost()</code>, que es com√∫nmente usada para procesar datos enviados desde formularios HTML:
      </p>
      <pre><button class="copy-btn" onclick="copyCode(this)" aria-label="Copiar c√≥digo"><svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg> Copiar</button><code>
@Override
protected void doPost(HttpServletRequest request, HttpServletResponse response)
        throws ServletException, IOException {
    String nombre = request.getParameter("nombre");
    response.setContentType("text/html;charset=UTF-8");
    PrintWriter out = response.getWriter();
    out.println("&lt;h1&gt;Hola, " + nombre + "&lt;/h1&gt;");
}
      </code></pre>
      <p>
        Para capturar otros tipos de peticiones HTTP (PUT, DELETE, etc.), se pueden sobrescribir sus respectivos m√©todos <code>doPut()</code>, <code>doDelete()</code>, etc.
      </p>
    </section>

    <section id="sesiones">
      <h2>Sesiones y Cookies</h2>
      <p>
        El protocolo HTTP es <strong>sin estado</strong>, lo que significa que cada petici√≥n es independiente. Para mantener informaci√≥n de un usuario entre varias peticiones, los Servlets usan sesiones y cookies.
      </p>
      <p>
        Una <strong>sesi√≥n</strong> es un objeto <code>HttpSession</code> que almacena informaci√≥n espec√≠fica de un usuario mientras dure su interacci√≥n con la aplicaci√≥n. Por ejemplo, datos de login, preferencias, carrito de compra, etc.
      </p>
      <pre><button class="copy-btn" onclick="copyCode(this)" aria-label="Copiar c√≥digo"><svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg> Copiar</button><code>
// Obtener o crear sesi√≥n
HttpSession session = request.getSession();

// Guardar atributo
session.setAttribute("usuario", "Sebasti√°n");

// Obtener atributo
String usuario = (String) session.getAttribute("usuario");
      </code></pre>
      <p>
        Por otro lado, las <strong>cookies</strong> son peque√±os archivos almacenados en el navegador del cliente que pueden usarse para identificar sesiones o guardar informaci√≥n simple.
      </p>
    </section>

    <section id="filtros">
      <h2>Filtros</h2>
      <p>
        Los filtros (<code>Filter</code>) permiten interceptar solicitudes y respuestas antes de que lleguen al Servlet o despu√©s de que lo procesan. Se usan para implementar funciones transversales como autenticaci√≥n, autorizaci√≥n, logging, compresi√≥n, entre otros.
      </p>
      <pre><button class="copy-btn" onclick="copyCode(this)" aria-label="Copiar c√≥digo"><svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg> Copiar</button><code>
public class MiFiltro implements Filter {
    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)
            throws IOException, ServletException {
        // L√≥gica antes de la petici√≥n
        System.out.println("Antes del Servlet");

        // Continuar la cadena de filtros y el servlet
        chain.doFilter(request, response);

        // L√≥gica despu√©s de la petici√≥n
        System.out.println("Despu√©s del Servlet");
    }
}
      </code></pre>
      <p>
        Los filtros se configuran en <code>web.xml</code> o mediante anotaciones, y pueden aplicarse a uno o varios servlets o URLs.
      </p>
    </section>

    <section id="configuracion">
      <h2>Configuraci√≥n</h2>
      <h3>Anotaciones (desde Servlet 3.0)</h3>
      <p>
        La forma moderna y recomendada para registrar Servlets es mediante anotaciones en la clase:
      </p>
      <pre><button class="copy-btn" onclick="copyCode(this)" aria-label="Copiar c√≥digo"><svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg> Copiar</button><code>
import jakarta.servlet.annotation.WebServlet;

@WebServlet("/ruta")
public class MiServlet extends HttpServlet {
    // implementaci√≥n
}
      </code></pre>
      <h3>Archivo web.xml</h3>
      <p>
        Alternativamente, se puede usar el archivo <code>web.xml</code> para configurar el mapeo de Servlets:
      </p>
      <pre><button class="copy-btn" onclick="copyCode(this)" aria-label="Copiar c√≥digo"><svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg> Copiar</button><code>
&lt;servlet&gt;
  &lt;servlet-name&gt;MiServlet&lt;/servlet-name&gt;
  &lt;servlet-class&gt;com.ejemplo.MiServlet&lt;/servlet-class&gt;
&lt;/servlet&gt;

&lt;servlet-mapping&gt;
  &lt;servlet-name&gt;MiServlet&lt;/servlet-name&gt;
  &lt;url-pattern&gt;/ruta&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
      </code></pre>
      <p>
        Aunque es menos usado hoy d√≠a, es √∫til para configuraciones avanzadas y despliegues heredados.
      </p>
    </section>

    <section id="integracion-jsp">
      <h2>Integraci√≥n con JSP</h2>
      <p>
        Los JSP permiten separar la l√≥gica de presentaci√≥n de la l√≥gica de negocio. Un servlet procesa la petici√≥n y luego redirige o env√≠a la informaci√≥n al JSP para que genere la vista.
      </p>
      <p>
        Esto mejora la mantenibilidad y facilita que dise√±adores web trabajen en la interfaz sin modificar Java.
      </p>
      <pre><button class="copy-btn" onclick="copyCode(this)" aria-label="Copiar c√≥digo"><svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg> Copiar</button><code>
// En Servlet
request.setAttribute("usuario", "Sebasti√°n");
request.getRequestDispatcher("/saludo.jsp").forward(request, response);
      </code></pre>
      <p>En el JSP (<code>saludo.jsp</code>):</p>
      <pre><button class="copy-btn" onclick="copyCode(this)" aria-label="Copiar c√≥digo"><svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg> Copiar</button><code>
&lt;h1&gt;Hola, &lt;%= request.getAttribute("usuario") %&gt;!&lt;/h1&gt;
      </code></pre>
    </section>

    <section id="maven">
      <h2>Uso con Maven</h2>
      <p>
        Maven es la herramienta est√°ndar para gestionar dependencias, compilaci√≥n y empaquetado de proyectos Java.  
        Para usar Servlets, debes incluir la dependencia oficial de Jakarta Servlet API.
      </p>
      <pre><button class="copy-btn" onclick="copyCode(this)" aria-label="Copiar c√≥digo"><svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg> Copiar</button><code>
&lt;dependency&gt;
  &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;
  &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;
  &lt;version&gt;6.0.0&lt;/version&gt;
  &lt;scope&gt;provided&lt;/scope&gt;
&lt;/dependency&gt;
      </code></pre>
      <p>
        Recuerda usar el scope <code>provided</code> porque el servidor web ya provee las clases en tiempo de ejecuci√≥n.
      </p>
    </section>

    <section id="despliegue">
      <h2>Despliegue</h2>
      <p>
        Para desplegar tu aplicaci√≥n de Servlets debes empaquetarla como un archivo WAR (Web Application Archive) y luego subirla al contenedor (Tomcat, GlassFish, etc).
      </p>
      <p>
        En Maven se hace con el plugin <code>maven-war-plugin</code> que genera el WAR autom√°ticamente. Luego este archivo va a la carpeta <code>webapps</code> o se despliega con la consola del servidor.
      </p>
    </section>

    <section id="ejemplo-completo">
      <h2>Ejemplo Completo</h2>
      <p>
        Aqu√≠ un ejemplo sencillo de un servlet que saluda y muestra la fecha actual:
      </p>
      <pre><button class="copy-btn" onclick="copyCode(this)" aria-label="Copiar c√≥digo"><svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg> Copiar</button><code>
import jakarta.servlet.ServletException;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.io.PrintWriter;
import java.time.LocalDateTime;
import java.time.format.DateTimeFormatter;

@WebServlet("/saludo")
public class SaludoServlet extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp)
            throws ServletException, IOException {
        resp.setContentType("text/html;charset=UTF-8");
        PrintWriter out = resp.getWriter();
        LocalDateTime ahora = LocalDateTime.now();
        String fecha = ahora.format(DateTimeFormatter.ofPattern("dd/MM/yyyy HH:mm:ss"));

        out.println("&lt;html&gt;&lt;head&gt;&lt;title&gt;Saludo&lt;/title&gt;&lt;/head&gt;&lt;body&gt;");
        out.println("&lt;h1&gt;¬°Hola, visitante!&lt;/h1&gt;");
        out.println("&lt;p&gt;Fecha y hora actual: " + fecha + "&lt;/p&gt;");
        out.println("&lt;/body&gt;&lt;/html&gt;");
    }
}
      </code></pre>
    </section>

    <section id="conclusiones">
      <h2>Conclusiones</h2>
      <p>
        Los Servlets son la base para crear aplicaciones web robustas y escalables en Java. Conocer su ciclo de vida, manejo de peticiones, sesiones, y la integraci√≥n con JSP y Maven es fundamental para desarrolladores Java web.
      </p>
      <p>
        Tambi√©n es importante dominar conceptos como filtros, configuraci√≥n y despliegue para manejar aplicaciones profesionales en entornos empresariales.
      </p>
    </section>

  </div>

  <footer style="margin-top: 4rem; padding: 2rem 0; background-color: #230161; color: white; text-align: center; font-weight: 600; font-family: 'Lexend', sans-serif;">
    <p>¬© 2025 Documentaci√≥n Java Servlets. Creado por Sebasti√°n Herrera - 2024047.</p>
    <p>IN5CV - PE5BV</p>
  </footer>

  <!-- Bootstrap JS Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    function copyCode(button) {
      const code = button.nextElementSibling.innerText;
      navigator.clipboard.writeText(code).then(() => {
        button.innerHTML = '<svg viewBox="0 0 24 24" style="width:18px;height:18px;fill:#fff;margin-right:8px;"><path d="M9 16.2l-3.5-3.5L4 14l5 5 12-12-1.4-1.4L9 16.2z"/></svg> ¬°Copiado!';
        setTimeout(() => {
          button.innerHTML = '<svg viewBox="0 0 24 24" style="width:18px;height:18px;fill:#fff;margin-right:8px;"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg> Copiar';
        }, 2200);
      });
    }
  </script>

</body>
</html>
